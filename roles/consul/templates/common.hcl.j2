# Full configuration options can be found at https://www.consul.io/docs/agent/options.html

#==> Common
datacenter       = "West"
#data_dir        = "/tmp/consul/server"
data_dir         = "/opt/consul"
{% raw %}
advertise_addr   = "{{ GetInterfaceIP \"enp0s2\" }}"
{% endraw %}
enable_local_script_checks = true
retry_join       = ["server-{{region_letter}}-1", "server-{{region_letter}}-2", "server-{{region_letter}}-3"]
#encrypt = "..."
# ca_file = "/etc/consul.d/consul-agent-ca.pem"
# cert_file = "/etc/consul.d/dc1-server-consul-0.pem"
# key_file = "/etc/consul.d/dc1-server-consul-0-key.pem"
# verify_incoming = true
# verify_outgoing = true
# verify_server_hostname = true

#--> Enable Consul ACLs
# acl = {
#   enabled = true
#   default_policy = "allow"
#   enable_token_persistence = true
# }

#--> Performance
performance { raft_multiplier = 1 }